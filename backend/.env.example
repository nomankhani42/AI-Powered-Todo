# =============================================================================
# Backend Environment Variables - Todo App API
# =============================================================================

# Database Configuration - Neon Serverless PostgreSQL
# Format: postgresql://[user]:[password]@[neon_hostname]/[dbname]?sslmode=require
# Example: postgresql://alex:AbC123dEf@ep-cool-darkness-123456.us-east-2.aws.neon.tech/dbname?sslmode=require
# Get your connection string from: https://console.neon.tech
# For detailed setup instructions, see: backend/ENV_SETUP_GUIDE.md
DATABASE_URL=postgresql://neondb_owner:npg_gnzxla2dL0sj@ep-raspy-lake-a4hzhzgc-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
# AI Provider Configuration
# =========================================
# Option 1: OpenRouter (Recommended for production)
# Sign up: https://openrouter.ai
# Get API key: https://openrouter.ai/keys
OPENROUTER_API_KEY=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
OPENROUTER_API_BASE=https://openrouter.ai/api/v1
OPENROUTER_MODEL=z-ai/glm-4.5-air:free

# Option 2: Google Gemini
# Get API key from: https://aistudio.google.com/app/apikey
# Note: Free tier available with generous limits (1500 requests/day for Gemini 2.0 Flash)
# Estimated cost: FREE for development (paid tier: ~$0.10 per 1M tokens)
GEMINI_API_KEY=AIzaSyDR2yJbhC8LMm_ffmQRsy7-c6zYDkA5cpI

# Option 3: OpenAI (if using OpenAI instead of OpenRouter)
# Get API key from: https://platform.openai.com/account/api-keys
OPENAI_API_KEY=sk-...

# JWT & Authentication
# Generate a secure secret key:
#   Option 1: openssl rand -hex 32
#   Option 2: python -c "import secrets; print(secrets.token_hex(32))"
#   Option 3: uv run python -c "import secrets; print(secrets.token_hex(32))"
# For detailed instructions, see: backend/ENV_SETUP_GUIDE.md section 3
JWT_SECRET_KEY=1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
REFRESH_TOKEN_EXPIRATION_DAYS=7

# Server Configuration
DEBUG=false
HOST=0.0.0.0
PORT=8000

# CORS & Security
# Comma-separated list of allowed origins for CORS
#
# FOR REACT NATIVE MOBILE APPS (IMPORTANT):
# Mobile apps don't send Origin headers, so you MUST use "*" for mobile app support:
#   ALLOWED_ORIGINS=*
#
# For web-only (Next.js, React web apps):
#   Development: http://localhost:3000,http://localhost:8000
#   Production: https://yourdomain.com,https://your-vercel-app.vercel.app
#
# For both web + mobile (recommended):
#   Use "*" to support both web and mobile apps
ALLOWED_ORIGINS=*

# Environment
# Options: development, production, staging
ENVIRONMENT=development
LOG_LEVEL=INFO

# AI Feature Configuration
# Timeout in seconds for AI API calls
AI_TIMEOUT_SECONDS=3
# Rate limiting: max calls per window
AI_RATE_LIMIT_CALLS=10
# Rate limiting: window size in seconds
AI_RATE_LIMIT_WINDOW=60

# SQL Query Logging (for debugging)
# Set to "true" to log all SQL queries executed
SQL_ECHO=false

# =============================================================================
# Setup Instructions
# =============================================================================
# For complete setup instructions including obtaining all credentials, see:
# - backend/ENV_SETUP_GUIDE.md (comprehensive guide)
# - QUICK_START_NEON.md (quick start guide)
#
# Summary:
# 1. Get Neon PostgreSQL connection string (see DATABASE_URL above)
# 2. Get OpenAI API key (see OPENAI_API_KEY above)
# 3. Generate JWT_SECRET_KEY using openssl or python
# 4. Fill in all values in this file
# 5. Run: uv run alembic upgrade head (database migrations)
# 6. Run: uv run uvicorn app.main:app --reload (start server)
# 7. Visit: http://localhost:8000/docs (API documentation)
