(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(69620),r=e.i(18831),l=e.i(62502),i=e.i(30561);let o=()=>{let e=(0,r.useAppDispatch)(),{tasks:s,filters:a,isLoading:o,error:n,totalCount:d,skip:c,limit:x}=(0,r.useAppSelector)(e=>e.tasks),m=(0,t.useCallback)(async(s,t,a=0,r=20)=>{e((0,l.setIsLoading)(!0)),e((0,l.setError)(null));try{let o=await i.tasksService.getTasks(s,t,a,r);return e((0,l.setTasks)(o.tasks)),e((0,l.setPagination)({skip:o.skip,limit:o.limit,totalCount:o.total})),e((0,l.setIsLoading)(!1)),o}catch(t){let s=t instanceof Error?t.message:"Failed to fetch tasks";throw e((0,l.setError)(s)),e((0,l.setIsLoading)(!1)),t}},[e]),g=(0,t.useCallback)(async s=>{e((0,l.setIsLoading)(!0)),e((0,l.setError)(null));try{let t=await i.tasksService.getTask(s);return e((0,l.setIsLoading)(!1)),t}catch(t){let s=t instanceof Error?t.message:"Failed to fetch task";throw e((0,l.setError)(s)),e((0,l.setIsLoading)(!1)),t}},[e]),b=(0,t.useCallback)(async s=>{e((0,l.setError)(null));try{let t=await i.tasksService.createTask(s);return e((0,l.addTask)(t)),t}catch(t){let s=t instanceof Error?t.message:"Failed to create task";throw e((0,l.setError)(s)),t}},[e]),u=(0,t.useCallback)(async(s,t)=>{e((0,l.setError)(null));try{let a=await i.tasksService.updateTask(s,t);return e((0,l.updateTask)(a)),a}catch(t){let s=t instanceof Error?t.message:"Failed to update task";throw e((0,l.setError)(s)),t}},[e]),h=(0,t.useCallback)(async s=>{e((0,l.setError)(null));try{await i.tasksService.deleteTask(s),e((0,l.deleteTask)(s))}catch(t){let s=t instanceof Error?t.message:"Failed to delete task";throw e((0,l.setError)(s)),t}},[e]),p=(0,t.useCallback)(async s=>{e((0,l.setError)(null));try{let t=await i.tasksService.completeTask(s);return e((0,l.updateTask)(t)),t}catch(t){let s=t instanceof Error?t.message:"Failed to complete task";throw e((0,l.setError)(s)),t}},[e]),y=(0,t.useCallback)((s,t)=>{e((0,l.setFilters)({status:s,priority:t}))},[e]);return{tasks:s,filteredTasks:s.filter(e=>(!a.status||e.status===a.status)&&(!a.priority||e.priority===a.priority||e.ai_priority===a.priority)),filters:a,isLoading:o,error:n,totalCount:d,skip:c,limit:x,fetchTasks:m,getTask:g,createTask:b,updateTask:u,deleteTask:h,completeTask:p,applyFilters:y,clearTasks:()=>e((0,l.clearTasks)())}},n={low:"bg-blue-100 text-blue-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800"},d={pending:"bg-gray-50",in_progress:"bg-blue-50",completed:"bg-green-50"};function c({task:e}){let{updateTask:r,deleteTask:l,isLoading:i,error:c}=o(),[x,m]=(0,t.useState)(!1),[g,b]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),p=async s=>{b(!0);try{await r(e.id,{status:s})}finally{b(!1)}},y=async()=>{try{await l(e.id),h(!1)}catch(e){}},f=e.priority||"medium",j=e=>{switch(e){case"pending":return(0,s.jsx)(a.IoHourglassOutline,{className:"w-4 h-4"});case"in_progress":return(0,s.jsx)(a.IoStopwatch,{className:"w-4 h-4"});case"completed":return(0,s.jsx)(a.IoCheckmarkDone,{className:"w-4 h-4"})}};return(0,s.jsxs)("div",{className:`p-4 sm:p-5 rounded-xl border border-gray-200 transition hover:shadow-md ${d[e.status]}`,children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-3",children:[(0,s.jsx)("h3",{className:`text-base sm:text-lg font-bold break-words ${"completed"===e.status?"line-through text-gray-400":"text-gray-900"}`,children:e.title}),(0,s.jsx)("span",{className:`inline-flex px-3 py-1.5 text-xs font-bold rounded-lg whitespace-nowrap ${n[f]}`,children:f.charAt(0).toUpperCase()+f.slice(1)})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600 mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[j(e.status),(0,s.jsx)("span",{className:"font-medium",children:"in_progress"===e.status?"In Progress":e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),e.deadline&&(0,s.jsxs)("span",{className:"whitespace-nowrap",children:["Due: ",(0,s.jsx)("span",{className:"text-gray-900 font-medium",children:(e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return""}})(e.deadline)})]})]}),e.description&&(0,s.jsxs)(s.Fragment,{children:[!x&&(0,s.jsx)("p",{className:"text-gray-700 line-clamp-2 text-xs sm:text-sm mb-2",children:e.description}),x&&(0,s.jsx)("p",{className:"text-gray-700 text-xs sm:text-sm mb-2",children:e.description})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.description&&(0,s.jsxs)("button",{onClick:()=>m(!x),className:"px-3 py-2 text-xs font-semibold text-gray-600 hover:text-gray-900 hover:bg-white rounded-lg transition whitespace-nowrap flex items-center gap-1 border border-gray-200",children:[x?(0,s.jsx)(a.IoChevronUp,{className:"w-4 h-4"}):(0,s.jsx)(a.IoChevronDown,{className:"w-4 h-4"}),x?"Less":"More"]}),(0,s.jsxs)("button",{onClick:()=>{h(!0)},disabled:g,className:"px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50 rounded-lg transition disabled:opacity-50 border border-red-200 hover:border-red-300 flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(a.IoTrash,{className:"w-4 h-4"}),"Delete"]})]})]}),(0,s.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:["pending","in_progress","completed"].map(t=>(0,s.jsxs)("button",{onClick:()=>p(t),disabled:g,className:`px-4 py-2.5 text-xs sm:text-sm font-semibold rounded-lg transition flex items-center gap-2 ${e.status===t?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"} disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap`,children:[j(t),"in_progress"===t?"In Progress":t.charAt(0).toUpperCase()+t.slice(1)]},t))}),c&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-red-600 text-xs font-medium",children:c})}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-transparent backdrop-blur-sm z-40 transition-opacity animate-in fade-in duration-300",onClick:()=>h(!1)}),(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm border border-gray-100 animate-in zoom-in-95 duration-300",children:[(0,s.jsxs)("div",{className:"sticky top-0 z-20 bg-gradient-to-r from-white to-red-50 border-b border-gray-200 px-6 py-3.5 flex justify-between items-center backdrop-blur-xl",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Delete Task"}),(0,s.jsx)("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition duration-200 text-gray-500 hover:text-gray-700",title:"Close",children:(0,s.jsx)(a.IoClose,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"p-8 bg-white",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-red-100 to-red-50 flex items-center justify-center shadow-lg shadow-red-100/50",children:(0,s.jsx)(a.IoWarning,{className:"w-8 h-8 text-red-600"})})}),(0,s.jsx)("p",{className:"text-center text-gray-700 font-bold text-lg mb-2",children:"Delete this task?"}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-600 mb-8",children:[(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:['"',e.title,'"']})," will be permanently deleted. This action cannot be undone."]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-3 text-sm font-semibold text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition duration-200 transform hover:scale-105",children:"Cancel"}),(0,s.jsxs)("button",{type:"button",onClick:y,disabled:g,className:"flex-1 px-4 py-3 text-sm font-bold text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 rounded-lg transition duration-200 shadow-lg shadow-red-500/20 hover:shadow-red-500/40 transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(a.IoTrash,{className:"w-4 h-4"}),"Delete"]})]})]})]})})]})]})}function x({tasks:e}){return 0===e.length?null:(0,s.jsx)("div",{className:"grid gap-3 sm:gap-4",children:e.map(e=>(0,s.jsx)(c,{task:e},e.id))})}function m({isOpen:e,onClose:r,onSubmit:l,isLoading:i=!1}){let[o,n]=(0,t.useState)({title:"",description:"",priority:"medium",deadline:""}),[d,c]=(0,t.useState)(""),x=e=>{let{name:s,value:t}=e.target;n(e=>({...e,[s]:t})),c("")},m=async e=>{if(e.preventDefault(),c(""),!o.title.trim())return void c("Task title is required");if(o.title.length<3)return void c("Task title must be at least 3 characters");try{await l(o),n({title:"",description:"",priority:"medium",deadline:""}),r()}catch(e){c(e instanceof Error?e.message:"Failed to create task")}};return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-transparent backdrop-blur-sm z-40 transition-opacity",onClick:r}),(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[calc(90vh+50px)] overflow-y-auto border border-gray-100 animate-in zoom-in-95 duration-300",children:[(0,s.jsxs)("div",{className:"sticky top-0 z-20 bg-gradient-to-r from-white to-blue-50 border-b border-gray-200 px-6 py-3.5 flex justify-between items-center backdrop-blur-xl",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Create New Task"}),(0,s.jsx)("button",{onClick:r,disabled:i,className:"p-2 hover:bg-gray-100 rounded-lg transition duration-200 text-gray-500 hover:text-gray-700 disabled:opacity-50",title:"Close",children:(0,s.jsx)(a.IoClose,{className:"w-6 h-6"})})]}),(0,s.jsxs)("form",{onSubmit:m,className:"p-5 bg-white",children:[d&&(0,s.jsx)("div",{className:"mb-2.5 p-2 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsxs)("p",{className:"text-red-700 font-semibold flex items-center gap-2 text-xs",children:[(0,s.jsx)(a.IoAlertCircle,{className:"w-3 h-3 flex-shrink-0"}),(0,s.jsx)("span",{children:d})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2.5 mb-2.5",children:[(0,s.jsxs)("div",{className:"lg:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-gray-700 font-semibold mb-1.5 text-sm",children:"Task Title *"}),(0,s.jsx)("input",{type:"text",id:"title",name:"title",value:o.title,onChange:x,placeholder:"Enter task title",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-400 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-300",disabled:i,autoFocus:!0,maxLength:100}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[o.title.length,"/100"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"priority",className:"block text-gray-700 font-semibold mb-1.5 text-sm",children:"Priority"}),(0,s.jsxs)("select",{id:"priority",name:"priority",value:o.priority,onChange:x,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-300",disabled:i,children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"}),(0,s.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"deadline",className:"block text-gray-700 font-semibold mb-1.5 text-sm",children:"Deadline"}),(0,s.jsx)("input",{type:"datetime-local",id:"deadline",name:"deadline",value:o.deadline,onChange:x,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-300",disabled:i})]}),(0,s.jsxs)("div",{className:"lg:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-gray-700 font-semibold mb-1.5 text-sm",children:"Description"}),(0,s.jsx)("textarea",{id:"description",name:"description",value:o.description,onChange:x,placeholder:"Enter task description (optional)",rows:2,className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-lg text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-400 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400 disabled:border-gray-300 resize-none",disabled:i,maxLength:500}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[o.description.length,"/500"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-2.5",children:[(0,s.jsx)("button",{type:"button",onClick:r,disabled:i,className:"flex-1 px-4 py-2.5 text-xs font-semibold text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2.5 text-xs font-semibold text-white bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40 transform hover:scale-105 disabled:transform disabled:scale-100",children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Task"})]})]})]})})]}):null}function g(){let{fetchTasks:e,filteredTasks:r,isLoading:l,error:i,applyFilters:n,taskStats:d,createTask:c}=o(),[g,b]=(0,t.useState)(void 0),[u,h]=(0,t.useState)(!1),[p,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e(g)},[g,e]);let f=async e=>{y(!0);try{await c({title:e.title,description:e.description,deadline:e.deadline}),h(!1)}finally{y(!1)}};return(0,s.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,s.jsxs)("div",{className:"pb-6 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2 sm:mb-3",children:"My Tasks"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Manage your tasks with AI-powered suggestions"})]}),i&&(0,s.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 text-red-600 flex-shrink-0",children:"!"}),(0,s.jsx)("p",{className:"text-red-700 text-sm font-medium",children:i})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center justify-between",children:[(0,s.jsxs)("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white font-bold rounded-xl transition duration-200 text-sm sm:text-base flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40 transform hover:scale-105 w-full sm:w-auto",children:[(0,s.jsx)(a.IoAdd,{className:"w-5 h-5"}),"New Task"]}),d&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-6 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),(0,s.jsxs)("span",{className:"text-gray-600",children:["Total: ",(0,s.jsx)("span",{className:"font-bold text-gray-900",children:d.total})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,s.jsxs)("span",{className:"text-gray-600",children:["Done: ",(0,s.jsx)("span",{className:"font-bold text-green-600",children:d.completed})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,s.jsxs)("span",{className:"text-gray-600",children:["In Progress: ",(0,s.jsx)("span",{className:"font-bold text-blue-600",children:d.inProgress})]})]})]})]}),(0,s.jsx)(m,{isOpen:u,onClose:()=>h(!1),onSubmit:f,isLoading:p}),(0,s.jsx)("div",{className:"border-b border-gray-200 overflow-x-auto",children:(0,s.jsx)("div",{className:"flex gap-2 sm:gap-4 min-w-min",children:[{status:void 0,label:"All",icon:null},{status:"pending",label:"Pending",icon:(0,s.jsx)(a.IoHourglassOutline,{className:"w-4 h-4"})},{status:"in_progress",label:"In Progress",icon:(0,s.jsx)(a.IoStopwatch,{className:"w-4 h-4"})},{status:"completed",label:"Completed",icon:(0,s.jsx)(a.IoCheckmarkDone,{className:"w-4 h-4"})}].map(({status:e,label:t,icon:a})=>(0,s.jsxs)("button",{onClick:()=>{b(e),n(e)},className:`px-4 sm:px-5 py-3 font-semibold text-sm sm:text-base border-b-2 transition duration-200 whitespace-nowrap flex items-center gap-2 ${g===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a,t]},e||"all"))})}),(0,s.jsx)("div",{children:l?(0,s.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,s.jsx)("div",{className:"text-gray-600 text-sm sm:text-base",children:"Loading tasks..."})}):0===r.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-600 text-base sm:text-lg mb-2",children:"No tasks yet"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Create your first task to get started"})]}):(0,s.jsx)(x,{tasks:r})})]})}e.s(["default",()=>g],78928)}]);